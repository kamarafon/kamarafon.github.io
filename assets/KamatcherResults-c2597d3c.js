import{d as q,b as E,q as G,k as M,o as c,c as d,f as P,w as v,a as b,t as y,F as $,m as D,u as m,l as x,g,v as F}from"./index-58cef89c.js";import{p as K,K as I}from"./KamatcherShowCards-46a0660c.js";import{G as l}from"./gender-88f8cdbd.js";import{l as R}from"./cards-fa5b6f70.js";import{K as H}from"./clothes-bf2eefc4.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const B={[l.Woman]:{who:"неё",thd:"она"},[l.Man]:{who:"него",thd:"он"}},S=(e,t)=>{const s=H[t][e];return`${B[t].thd} снимает ${s[1]||s[0]}`},U=(e,t)=>{const s=R.chain(e).toPairs().filter(([a,o])=>o>-1).fromPairs().map((a,o)=>S(a,+o)).value(),h=t?"Повторите то, что вам обоим понравилось, только в оставшейся на вас одежде":'Займитесь "этим", в выбранной позе, ведь на вас уже нет одежды';return{title:"Задание для двоих",description:[...s,h]}},j=(e,t)=>{const s=e[t]>-1&&[S(e[t],t)];return{title:"Задание для "+B[t].who,description:s||["Продолжай играть"]}},z={key:0,class:"task-description"},A={class:"title"},J={class:"description"},O={class:"next-button"},Q=q({__name:"KamatcherResults",setup(e){const t=E.currentRoute.value,{cards:s,level:h,woman:a,man:o}=K(t.params,["cards","level","woman","man"]);let{w:_,m:k,c:w}=K(t.query,["w","m","c"]);const i={};a===w&&(i[l.Woman]=--_),o===w&&(i[l.Man]=--k);const T=_>0||k>0,N=(n,r,u)=>r<0?U(i,u):j(i,r),f=[[l.Woman,a],[l.Man,o]].filter(R.constant(a!==o));console.log(f);const C=G((f.length?f:[[-1,a]]).map(([n,r])=>({card:r,gender:n,showTask:!1,task:N(i,n,T)}))),V=()=>C.value.forEach(n=>n.showTask=!n.showTask);return(n,r)=>{const u=M("router-link");return c(),d("main",null,[P(I,{page:C.value,class:"pages",onSelect:r[0]||(r[0]=p=>V())},{"card-task":v(({card:p})=>[p.task?(c(),d("div",z,[b("div",A,y(p.task.title),1),(c(!0),d($,null,D(p.task.description,W=>(c(),d("div",J,y(W),1))),256)),b("div",O,[m(T)?(c(),x(u,{key:0,to:{name:"kamatcher-choice",params:{level:m(h)+1,cards:m(s)},query:{w:m(_),m:m(k)}},class:"button"},{default:v(()=>[g(" продолжить ")]),_:1},8,["to"])):(c(),x(u,{key:1,to:{name:"kamatcher-main"},class:"button"},{default:v(()=>[g(" сыграть ещё ")]),_:1}))])])):F("",!0)]),_:1},8,["page"])])}}});const at=L(Q,[["__scopeId","data-v-ba4f7bde"]]);export{at as default};
